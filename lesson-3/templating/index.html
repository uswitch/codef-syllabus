<!doctype html><html lang=en-gb><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Templating & Variables | Welcome to CodeF</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Now that we have our basic site up and running, let&rsquo;s look at how we can really make this site our own.
This is delving into slightly more advanced territory, but everything we&rsquo;ll do is incremental, and if you make a mistake, you can always use Git to revert your changes.
Layouts & templates The final output of your website is primarily 2 things, HTML, which we covered in our previous lesson, and CSS, which we&rsquo;ll cover in our next lesson."><meta name=generator content="Hugo 0.84.4"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel=stylesheet href=/codef-syllabus/ananke/css/main.min.css><link rel="shortcut icon" href=/codef-syllabus/favicon.ico type=image/x-icon><meta property="og:title" content="Templating & Variables"><meta property="og:description" content="Now that we have our basic site up and running, let&rsquo;s look at how we can really make this site our own.
This is delving into slightly more advanced territory, but everything we&rsquo;ll do is incremental, and if you make a mistake, you can always use Git to revert your changes.
Layouts & templates The final output of your website is primarily 2 things, HTML, which we covered in our previous lesson, and CSS, which we&rsquo;ll cover in our next lesson."><meta property="og:type" content="article"><meta property="og:url" content="https://uswitch.github.io/codef-syllabus/lesson-3/templating/"><meta property="article:section" content="lesson-3"><meta property="article:published_time" content="2020-06-10T15:49:27+01:00"><meta property="article:modified_time" content="2020-06-10T15:49:27+01:00"><meta itemprop=name content="Templating & Variables"><meta itemprop=description content="Now that we have our basic site up and running, let&rsquo;s look at how we can really make this site our own.
This is delving into slightly more advanced territory, but everything we&rsquo;ll do is incremental, and if you make a mistake, you can always use Git to revert your changes.
Layouts & templates The final output of your website is primarily 2 things, HTML, which we covered in our previous lesson, and CSS, which we&rsquo;ll cover in our next lesson."><meta itemprop=datePublished content="2020-06-10T15:49:27+01:00"><meta itemprop=dateModified content="2020-06-10T15:49:27+01:00"><meta itemprop=wordCount content="1204"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Templating & Variables"><meta name=twitter:description content="Now that we have our basic site up and running, let&rsquo;s look at how we can really make this site our own.
This is delving into slightly more advanced territory, but everything we&rsquo;ll do is incremental, and if you make a mistake, you can always use Git to revert your changes.
Layouts & templates The final output of your website is primarily 2 things, HTML, which we covered in our previous lesson, and CSS, which we&rsquo;ll cover in our next lesson."></head><body class="ma0 avenir bg-near-white"><header><div class=bg-black><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/codef-syllabus/ class="f3 fw2 hover-white no-underline white-90 dib">Welcome to CodeF</a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/codef-syllabus/lesson-1/ title="Lesson 1 page">Lesson 1</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/codef-syllabus/lesson-2/ title="Lesson 2 page">Lesson 2</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/codef-syllabus/lesson-3/ title="Lesson 3 page">Lesson 3</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/codef-syllabus/lesson-4/ title="Lesson 4 page">Lesson 4</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/codef-syllabus/lesson-5/ title="Lesson 5 page">Lesson 5</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/codef-syllabus/setup/ title="Setup page">Setup</a></li></ul><a href=https://twitter.com/UswitchEng target=_blank class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">LESSON 3</aside><div id=sharing class=mt3><a href="https://www.facebook.com/sharer.php?u=https://uswitch.github.io/codef-syllabus/lesson-3/templating/" class="facebook no-underline" aria-label="share on Facebook"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765 50.32h6.744V33.998h4.499l.596-5.624h-5.095l.007-2.816c0-1.466.14-2.253 2.244-2.253h2.812V17.68h-4.5c-5.405.0-7.307 2.729-7.307 7.317v3.377h-3.369v5.625h3.369V50.32zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></a><a href="https://twitter.com/share?url=https://uswitch.github.io/codef-syllabus/lesson-3/templating/&text=Templating%20&%20Variables" class="twitter no-underline" aria-label="share on Twitter"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https://uswitch.github.io/codef-syllabus/lesson-3/templating/&title=Templating%20&%20Variables" class="linkedin no-underline" aria-label="share on LinkedIn"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30c0 16.568-13.432 30-30 30zM26.354 48.137V27.71h-6.789v20.427h6.789z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a></div><h1 class="f1 athelas mt3 mb1">Templating & Variables</h1><time class="f6 mv4 dib tracked" datetime=2020-06-10T15:49:27+01:00>June 10, 2020</time></header><div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p>Now that we have our basic site up and running, let&rsquo;s look at how we can <em>really</em> make this site our own.</p><p>This is delving into slightly more advanced territory, but everything we&rsquo;ll do is incremental, and if you make a mistake, you can always use Git to revert your changes.</p><h1 id=layouts--templates>Layouts & templates</h1><p>The final output of your website is primarily 2 things, HTML, which we covered in our previous lesson, and CSS, which we&rsquo;ll cover in our next lesson.</p><p>We&rsquo;ll focus on the HTML aspect now. HTML is what browsers use and understand, and Hugo is basically just a convenient tool to generate HTML. Markdown gets converted into HTML and inserted into other HTML. We saw some of this generated HTML earlier, it looked somewhat messy. In fact, you can see all your site&rsquo;s output in the <code>public/</code> folder of your site.</p><p>Exactly <em>what</em> HTML is generated by Hugo is controlled by a feature called <em>templates</em>. <em>Templates</em> are bits of HTML with placeholders for your content.</p><p>Let&rsquo;s have a look. Let&rsquo;s find and open the file <code>themes > ananke > layouts > index.html</code> in Sublime.</p><p><img src=sublime-0.png alt=Sublime></p><p>We should see a ton of HTML, and a whole bunch of curly braces. This is a <em>template</em>. Specifically, this is the template for your main home page.</p><p>The relevant part here is line 3, where it says <code>{{ .Content }}</code>. That&rsquo;s where the compiled content of your markdown from <code>content/_index.md</code> goes. Everything below that is just functionality for blogging, it implements showing &ldquo;most recent posts&rdquo;.</p><h2 id=lookup-order>Lookup order</h2><p>We&rsquo;re going to tweak some templates to better match our site.</p><p>Hugo has some special templates that it expects to find, <code>layouts/index.html</code> is one of them. It also has a <a href=https://gohugo.io/templates/lookup-order/>lookup order</a>, but basically it&rsquo;ll look for the file in 2 places &ndash; your site&rsquo;s <code>layouts/</code> folder, then your <strong>theme&rsquo;s</strong> <code>layouts/</code> folder, and then it&rsquo;ll either assume a default value if possible, or crash & fail if not.</p><p>This means that if we want to change some particular aspect about our site, we can copy the layout file from the theme into our <code>layouts/</code> folder, tweak it, and if we don&rsquo;t like it, just delete it to go back to the original theme&rsquo;s layout.</p><p>If we&rsquo;re not making a blog, we don&rsquo;t need the &ldquo;most recent posts&rdquo; functionality, so let&rsquo;s remove that.</p><p>First, copy the file <code>my-codef-site > themes > ananke > layouts > index.html</code> to <code>my-codef-site > layouts > index.html</code>.</p><p>Then we open that in our editor, and remove lines 5-54. We should be left with just</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>{{ define &#34;main&#34; }}
  &lt;<span style=color:#f92672>article</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy mid-gray&#34;</span>&gt;
    {{ .Content }}
  &lt;/<span style=color:#f92672>article</span>&gt;
{{ end }}
</code></pre></div><h2 id=partials>Partials</h2><p>We will now look at the file <code>themes > ananke > layouts > _default > list.thml</code>. Opening it in our editor, we can see it&rsquo;s fairly small, 16 lines total.
This is the template that governs <strong>all</strong> &ldquo;list&rdquo; pages. Changing this should change every category level page you have.</p><p>The 2 relevant parts in this template are</p><pre><code>{{- .Content -}}
</code></pre><p>which will output the content of your <code>_index.md</code> files, and</p><pre><code>{{ range .Paginator.Pages }}
  &lt;div class=&quot;relative w-100 w-30-l mb4 bg-white&quot;&gt;
    {{- partial &quot;summary.html&quot; . -}}
  &lt;/div&gt;
{{ end }}
</code></pre><p>which will create a summary box for each of the nested pages by using <a href=https://gohugo.io/templates/pagination/>pagination</a>.</p><p>It also uses a feature called <a href=https://gohugo.io/templates/partials/>partials</a>. <em>Partials</em> allow you to define small bits of reusable templates. They&rsquo;re also often used to simply split up a bigger file.
Partials are referred to by name, and Hugo looks for them in the <code>layouts > partials ></code> folder.</p><p>If we open the file <code>themes > ananke > layouts > partials > summary.html</code>, we can see some HTML, and some placeholders like</p><ul><li><code>{{ .Permalink }}</code>, which is the full link to a page</li><li><code>{{ .Title }}</code>, which is the page&rsquo;s title</li><li><code>{{ .Summary }}</code>, which is a magic value computed by Hugo, containing the first X words of the page</li></ul><p>The full list of available placeholders, called <em>variables</em>, is in <a href=https://gohugo.io/variables/page/>the official documentation</a>.</p><p>For any of these files, we could copy them from the theme directory into our local one and tweak it. For example, maybe we don&rsquo;t like the summary part, and want the link box to contain just the page title.</p><p>To achieve that, we would copy the file <code>themes > ananke > layouts > partials > summary.html</code> to <code>layouts > partials > summary.html</code>, and delete the part that has <code>{{ .Summary }}</code>. Hugo would pick up our customised summary template and produce a site without summaries.</p><p>This can be done for any template we want to tweak, and working bit by bit, we can change the entire site.</p><h1 id=shortcodes>Shortcodes</h1><p>Finally, Hugo has another mechanism to insert HTML into your pages, called <a href=https://gohugo.io/content-management/shortcodes/>shortcodes</a>. <em>Shortcodes</em> are basically just templates you can call from your <strong>markdown</strong> files, not other templates.</p><p>You call a <em>shortcode</em> by using</p><pre><code>{{ &lt; shortcode-name shortcode-parameters &gt;}}
</code></pre><p>or</p><pre><code>{{ &lt; shortcode-name &gt;}} some text in between {{ &lt; /shortocode-name &gt;}}
</code></pre><p>if the shortcode requires content inside it, without the space between the <code>{{</code> and the <code>%</code>.
Hugo has some <a href=https://gohugo.io/content-management/shortcodes/#use-hugos-built-in-shortcodes>built-in shortcodes</a> you can try, e.g., an Twitter one.</p><p>You&rsquo;d use this in a content file, like <code>_index.md</code>,</p><pre><code>{{ &lt; tweet 1397620473832382465 &gt;}}
</code></pre><blockquote class=twitter-tweet><p lang=en dir=ltr>✏️<a href="https://twitter.com/paulienuh?ref_src=twsrc%5Etfw">@paulienuh</a> had a lot of learning about setting up <a href="https://twitter.com/LadiesinDevOps?ref_src=twsrc%5Etfw">@LadiesinDevOps</a>, the biggest was that “Community is about creating more leaders” <a href=https://t.co/lVSxGDTPaX>pic.twitter.com/lVSxGDTPaX</a></p>&mdash; RVUeng (@RVUeng) <a href="https://twitter.com/RVUeng/status/1397620473832382465?ref_src=twsrc%5Etfw">May 26, 2021</a></blockquote><script async src=https://platform.twitter.com/widgets.js></script><p>Same thing, no space in the opening sequence.</p><h2 id=custom-shortcodes>Custom shortcodes</h2><p>You can also create <a href=https://gohugo.io/templates/shortcode-templates/>your own shortcodes</a>. Your custom shortcodes go in the <code>layouts > shortcodes</code> folder.</p><p>They can be plain HTML, or use some logic, but that&rsquo;s delving deeper into &ldquo;programming&rdquo;. Hugo has extensive documentation on how to write your own if you feel like giving it a try.</p><h1 id=further-reading>Further reading</h1><h2 id=domain-names-dns>Domain names, DNS</h2><p>Cloudflare have a <a href=https://www.cloudflare.com/learning/dns/what-is-dns/>good guide</a> about what DNS is, what it does, and what it eats in the winter.</p><p>Unrelated to this course, they also have a lot of <a href=https://www.cloudflare.com/learning/>learning resources</a> about lower level things, like bots, website traffic encryption (SSL / TLS), and various other nitty gritty surrounding the daily operation of the Internet.</p><h2 id=netlify>Netlify</h2><p>Netlify is an integrated platform that does virtually everything for you. If you&rsquo;re interested, their documentation tells you all about what Netlify can do for you, e.g., <a href=https://docs.netlify.com/monitor-sites/analytics/>analytics</a> to show you how many people are interacting with your site and in what way.</p><p><strong>NOTE</strong>: most of these features are probably not available on the Free tier, so this is more about learning what is possible.</p><h2 id=hugo>Hugo</h2><p>Have a look at <a href=https://gohugo.io/showcase/>what&rsquo;s possible</a> in the Hugo showcase.</p><p>Hugo has <a href=https://gohugo.io/documentation/>extensive documentation</a> on everything it does, and it&rsquo;s worth getting familiar with it if you&rsquo;re developing a site in Hugo. The particular topics covered today would be</p><ul><li><a href=https://gohugo.io/templates/introduction/>templates</a>, including <a href=https://gohugo.io/templates/lists/>lists</a> and <a href=https://gohugo.io/templates/partials/>partials</a></li><li><a href=https://gohugo.io/content-management/shortcodes/>shortcodes</a></li></ul><h3 id=gomplate>Gomplate</h3><p>Hugo uses a special type of <em>language</em> to inject dynamic content into your templates. We&rsquo;ve called them &ldquo;placeholders&rdquo; before, because that&rsquo;s essentially what they are. The thing Hugo uses is called <em>gomplate</em> or <em>Go templates</em>, and you can learn more about them in the <a href=https://golang.org/pkg/text/template/>Go documentation</a>. You&rsquo;ll only need this if you&rsquo;re writing logic in your layouts, e.g., conditionally displaying sections based on whether something else is true or false.</p><ul class=pa0></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://uswitch.github.io/codef-syllabus/>&copy; Welcome to CodeF 2021</a><div><a href=https://twitter.com/UswitchEng target=_blank class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a></div></div></footer></body></html>